<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Call Companion</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Removed the onbeforeunload script to prevent reload prompts -->
  <!-- Pickr styles -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css" />

  <!-- Pickr script -->
  <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>

</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸŒŸ Alyssa's App ğŸŒŸ</h1>
      <p>Your magical helper for video calls!</p>
    </header>

    <main>

      <!-- Mood Check Section (default visible) -->
      <section id="mood-check" class="card">
        <h2>How are you feeling right now?</h2>
        <p>Pick a face that matches your mood!</p>
        <div class="emoji-options">
          <button class="emoji" onclick="selectMood('ğŸ˜ƒ')">ğŸ˜ƒ</button>
          <button class="emoji" onclick="selectMood('ğŸ˜')">ğŸ˜</button>
          <button class="emoji" onclick="selectMood('ğŸ˜¢')">ğŸ˜¢</button>
          <button class="emoji" onclick="selectMood('ğŸ˜´')">ğŸ˜´</button>
          <button class="emoji" onclick="selectMood('ğŸ˜œ')">ğŸ˜œ</button>
        </div>
        <p id="selectedMood" style="text-align:center; font-size:1.5rem;"></p>
      </section>

      <!-- Navigation Buttons -->
      <nav class="navigation">
        <button onclick="toggleSection('show-tell')">ğŸ± Show & Tell</button>
        <button onclick="toggleSection('question-spinner')">ğŸŒ¡ Question Spinner</button>
        <button onclick="toggleSection('activity-choice')">ğŸƒ Activity Choice</button>
        <button onclick="toggleSection('drawing-section')">ğŸ¨ Drawing</button>
      </nav>

      <!-- Show & Tell Section (hidden by default) -->
    <section id="show-tell" class="card hidden">
        <h2><span class="icon">ğŸ±</span> Show & Tell</h2>
        <p class="description">Want to show something cool during our call?</p>
        <p>Upload an image and tell us what it is and why you wanted to share!</p>
    
        <div class="input-group">
        <input type="text" id="showTellInput" placeholder="Explain whats in the picture..." class="text-input" />
        </div>
    
        <div class="input-group">
        <label for="photoUpload" class="upload-label">ğŸ“· Add photo:</label>
        <input type="file" id="photoUpload" accept="image/*" class="file-input" />
        
        <div id="imagePreviewContainer" aria-live="polite"></div>
        <button type="button" class="submit-button">ğŸ“¤ Send Photo</button>

        <p id="showTellCountMessage" style="font-weight:bold; margin-top:10px;"></p>
        </div>
    </section>
  

      <!-- Question Spinner Section -->
      <section id="question-spinner" class="card hidden">
        <h2>ğŸŒ¡ Spin for a Fun Question!</h2>
        <div class="spinner-wrapper">
          <div class="wheel-pointer">ğŸ”»</div>
          <canvas id="questionWheel" width="300" height="300"></canvas>
        </div>
        <button id="spinWheel">ğŸŒ¡ Spin the Wheel!</button>
        <p id="questionText" class="question-result">Spin to get a fun thing to talk about!</p>
        <p>You can answer in the box OR just talk about it with us!</p>
        <input type="text" placeholder="Write your answer here..." />
        <div class="skip-row">
            <button id="skipQuestionBtn">â­ Skip</button>
            <span id="skipCounter">Skips left: 3</span>
          </div>
          
          
        <h2>Your Answers</h2>
        <ul id="answerList"></ul>
        <button type="button" onclick="completeSection('question-spinner')">âœ… Done with questions!</button>
      </section>

      <!-- Shared Activity Section -->
      <section id="activity-choice" class="card hidden">
        <h2>ğŸ¨ Let's Try Fun Things!</h2>
        <p>Pick 3 things you'd like to do on the call!:</p>
        <ul class="activity-list">
            <li><strong>ğŸ¨ Creative Play</strong></li>
            <li><button onclick="selectActivity('Draw together', this)">âœï¸ Draw together</button></li>
            <li><button onclick="selectActivity('Play with Play-Doh or clay', this)">ğŸŒ€ Play with Play-Doh or clay</button></li>
            <li><button onclick="selectActivity('Make up a silly story together', this)">ğŸ“š Make up a silly story</button></li>
            <li><button onclick="selectActivity('Invent a secret handshake', this)">ğŸ¤ Invent a secret handshake</button></li>
            <li><button onclick="selectActivity('Do a pretend talent show', this)">ğŸ­ Pretend talent show</button></li>
          
            <li><strong>ğŸ’« Quiet Time</strong></li>
            <li><button onclick="selectActivity('Swing & listen to music together', this)">ğŸ§ Swing & listen to music</button></li>
            <li><button onclick="selectActivity('Read me a story', this)">ğŸ“– Read me a story</button></li>
            <li><button onclick="selectActivity('Just chill and chat', this)">ğŸŒˆ Just chill & chat</button></li>
            <li><button onclick="selectActivity('Talk about something important', this)">ğŸ’¬ Talk about something important</button></li>
          
            <li><strong>ğŸ˜œ Silly Fun</strong></li>
            <li><button onclick="selectActivity('Play a guessing game', this)">ğŸ§  Play a guessing game</button></li>
            <li><button onclick="selectActivity('Sing karaoke or dance', this)">ğŸ¤ Sing karaoke or dance</button></li>
            <li><button onclick="selectActivity('Pull a practical joke (silly one!)', this)">ğŸ¤ª Pull a practical joke</button></li>
          
            <li><strong>ğŸ§  Learn & Explore</strong></li>
            <li><button onclick="selectActivity('Do a science experiment', this)">ğŸ§ª Do a science experiment</button></li>
            <li><button onclick="selectActivity('Teach me something new', this)">ğŸ§‘â€ğŸ« Teach me something</button></li>
            <li><button onclick="selectActivity('Play a board game', this)">ğŸ² Play a board game</button></li>
            <li><button onclick="selectActivity('Pretend youâ€™re on a space adventure', this)">ğŸš€ Space pretend game</button></li>
            <li><button onclick="selectActivity('Do a mini yoga or stretch', this)">ğŸ§˜ Mini yoga or stretch</button></li>
          </ul>
          
          
          
        <p id="selectedActivity" style="text-align:center; font-weight:bold;"></p>
        <button type="button" onclick="completeSection('activity-choice')">âœ… Ready to go!</button>

      </section>


 <!-- ğŸ¨ Drawing Section -->
<section id="drawing-section" class="card hidden">
  <h2>ğŸ¨ Let's Draw While We Chat</h2>
  <p>You can draw up to 5 things per day! Just have fun with it!</p>

  <div class="draw-area fullscreen-layout">

    <!-- ğŸ›ï¸ Buttons + Counter + Status in one flex wrapper -->
    <div class="draw-button-wrapper">
      <div class="fullscreen-controls">
        <button type="button" onclick="clearCanvas()">ğŸ§½ Clear Drawing</button>
        <button type="button" onclick="downloadDrawing()">ğŸ“… Download Drawing</button>
        <button type="button" id="submitDrawingBtn" onclick="submitDrawing(event)">ğŸ“¤ Send Us Your Drawing</button>
        <button type="button" id="fullscreenToggleButton" onclick="openFullscreen()">ğŸ–¼ Fullscreen</button>
      </div>
      <p id="drawingCounter" style="font-weight: bold; margin-top: 0.5rem;"></p>
      <p id="drawingStatus" style="font-weight: bold; margin-top: 0.5rem;"></p>
    </div>

    <!-- ğŸ–Œï¸ Canvas Area -->
    <div class="fullscreen-canvas">
      <canvas id="drawCanvas" class="drawing-canvas" width="600" height="300"></canvas>
    </div>

    <!-- ğŸ¨ Colour Picker -->
    <div class="draw-toolbar">
      <label for="colourPicker">Pick a colour:</label>
      <div class="custom-colour-picker">
        <label>Pick a colour:</label>
        <div id="colourPicker"></div>
      </div>
    </div>

  </div>
</section>

  

      <!-- Reward Stars -->
      <section id="reward-section" class="card">
        <h2>You're a Star!</h2>
        <p>Every time you try something, you earn a star! â­</p>
        <p>Stars earned today:</p>
        <div id="stars-earned">ğŸŒŸ</div>
      </section>

    </main>

    <footer>
      <p>Built with ğŸ’– for magical conversations</p>
      <button onclick="resetDailyFields()">ğŸ”„ Reset Today's Fields</button>
    </footer>
  </div>

    <script type="module" src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>


</body>
</html>
